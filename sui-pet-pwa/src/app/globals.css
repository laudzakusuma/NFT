@import url('https://fonts.googleapis.com/css2?family=VT323&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --pop-yellow: #feca57;
  --pop-blue: #54a0ff;
  --pop-red: #ff6b6b;
  --pop-dark: #222f3e;
}

body {
  background-color: #222f3e;
  font-family: 'VT323', monospace;
  overflow: hidden;
}

.map-layer {
  background-image: url('https://upload.wikimedia.org/wikipedia/commons/b/bd/Google_Maps_Manhattan.png');
  background-size: cover;
  background-position: center;
  image-rendering: pixelated;
  filter: contrast(1.1) brightness(1.1) saturate(1.2);
}

.map-grid-overlay {
  background-image: 
    linear-gradient(#000000 1px, transparent 1px),
    linear-gradient(90deg, #000000 1px, transparent 1px);
  background-size: 40px 40px;
  opacity: 0.1;
}

@layer utilities {
  .pixelated {
    image-rendering: pixelated;
    image-rendering: -moz-crisp-edges;
    image-rendering: crisp-edges;
  }

  .pop-card {
    background-color: white;
    border: 4px solid black;
    box-shadow: 8px 8px 0px rgba(0,0,0,0.5);
    position: relative;
    background-image: radial-gradient(#d1d8e0 15%, transparent 16%);
    background-size: 8px 8px;
  }

  .btn-pushable {
    position: relative;
    border: none;
    background: transparent;
    padding: 0;
    cursor: pointer;
    outline-offset: 4px;
    transition: filter 250ms;
    user-select: none;
    -webkit-tap-highlight-color: transparent;
  }

  .btn-shadow {
    position: absolute;
    top: 0; left: 0; width: 100%; height: 100%;
    border-radius: 12px;
    background: rgba(0, 0, 0, 0.25);
    transform: translateY(2px);
    transition: transform 600ms cubic-bezier(.3, .7, .4, 1);
  }

  .btn-edge {
    position: absolute;
    top: 0; left: 0; width: 100%; height: 100%;
    border-radius: 12px;
    background: linear-gradient(
      to left,
      hsl(340deg 100% 16%) 0%,
      hsl(340deg 100% 32%) 8%,
      hsl(340deg 100% 32%) 92%,
      hsl(340deg 100% 16%) 100%
    );
  }

  .btn-front {
    display: block;
    position: relative;
    padding: 12px 24px;
    border-radius: 12px;
    font-size: 1.25rem;
    color: white;
    background: #ff4757;
    will-change: transform;
    transform: translateY(-4px);
    transition: transform 600ms cubic-bezier(.3, .7, .4, 1);
    border: 2px solid black;
    font-family: 'Press Start 2P', cursive;
    text-shadow: 2px 2px 0px black;
  }

  .btn-pushable:active .btn-front {
    transform: translateY(-2px);
    transition: transform 34ms;
  }
  .btn-pushable:active .btn-shadow {
    transform: translateY(1px);
    transition: transform 34ms;
  }

  .text-stroke-sm {
    -webkit-text-stroke: 1px black;
    text-shadow: 2px 2px 0px rgba(0,0,0,0.2);
  }

  .dino-body {
    width: 60px; height: 50px;
    background: #2ecc71;
    box-shadow: 
      inset 4px 4px 0px rgba(255,255,255,0.4),
      inset -4px -4px 0px rgba(0,0,0,0.2),
      4px 4px 0px black;
    position: relative;
    border: 4px solid black;
    animation: dino-bounce 1s infinite alternate cubic-bezier(0.5, 0.05, 1, 0.5);
  }
  .dino-head {
    position: absolute; top: -30px; left: -10px;
    width: 50px; height: 40px;
    background: #2ecc71;
    border: 4px solid black; border-bottom: none;
    box-shadow: inset 4px 4px 0px rgba(255,255,255,0.4);
  }
  .dino-eye {
    position: absolute; top: 10px; left: 10px;
    width: 8px; height: 8px; background: black;
    box-shadow: 20px 0 0 black;
    animation: blink-pixel 4s infinite;
  }
  .dino-spikes {
    position: absolute; top: 5px; right: -12px;
    width: 12px; height: 12px; background: #f1c40f;
    border: 4px solid black;
    box-shadow: 0 15px 0 #f1c40f, 4px 19px 0 black, -4px 19px 0 black, 0 19px 0 black;
  }
  .dino-leg {
    position: absolute; bottom: -12px;
    width: 16px; height: 12px; background: black;
  }
  .dino-leg.left { left: 4px; }
  .dino-leg.right { right: 4px; }

  @keyframes dino-bounce {
    0% { transform: translateY(0); }
    100% { transform: translateY(-4px); }
  }

  .ghost-body {
    width: 60px; height: 70px;
    background: #a29bfe;
    border: 4px solid black; border-bottom: none;
    border-radius: 30px 30px 0 0;
    position: relative;
    box-shadow: inset 5px 5px 0px rgba(255,255,255,0.3);
    animation: ghost-float 3s infinite ease-in-out;
  }
  .ghost-skirt {
    position: absolute; bottom: -8px; left: -4px;
    width: 68px; height: 12px;
    background: radial-gradient(circle, #a29bfe 6px, transparent 7px);
    background-size: 16px 20px;
    background-position: bottom; background-repeat: repeat-x;
    filter: drop-shadow(0px 4px 0px black);
  }
  .ghost-face {
    position: absolute; top: 25px; left: 12px;
    width: 8px; height: 8px; background: black;
    box-shadow: 28px 0 0 black;
  }
  .ghost-blush {
    position: absolute; top: 32px; left: 8px;
    width: 8px; height: 4px; background: #ff7675;
    box-shadow: 36px 0 0 #ff7675; opacity: 0.6;
  }
  @keyframes ghost-float {
    0%, 100% { transform: translateY(0) rotate(2deg); }
    50% { transform: translateY(-10px) rotate(-2deg); }
  }

  .pixel-egg {
    width: 60px; height: 80px;
    background: #ffeaa7;
    border: 4px solid black;
    border-radius: 50% 50% 50% 50% / 60% 60% 40% 40%;
    position: relative; overflow: hidden;
    animation: egg-shake 2s infinite;
    box-shadow: inset -10px -10px 0px rgba(0,0,0,0.1), 4px 4px 0px rgba(0,0,0,0.2);
  }
  .pixel-egg::after {
    content: ''; position: absolute; top: 20px; left: 10px;
    width: 10px; height: 10px; background: #ff7675;
    box-shadow: 25px 15px 0 #74b9ff, 10px 35px 0 #55efc4;
  }
  @keyframes egg-shake {
    0%, 90% { transform: rotate(0deg); }
    92% { transform: rotate(-5deg); } 94% { transform: rotate(5deg); }
    96% { transform: rotate(-5deg); } 98% { transform: rotate(5deg); }
    100% { transform: rotate(0deg); }
  }
  @keyframes blink-pixel {
    0%, 96%, 100% { height: 8px; margin-top: 0; }
    98% { height: 2px; margin-top: 3px; }
  }
}

@layer utilities {
  .crt-overlay {
    background: linear-gradient(
      rgba(18, 16, 16, 0) 50%,
      rgba(0, 0, 0, 0.15) 50%
    );
    background-size: 100% 3px;
    pointer-events: none;
    animation: scanline-move 15s linear infinite;
    opacity: 0.6;
  }
  
  .animated-grid-bg {
    background-image: 
        linear-gradient(to right, rgba(255,255,255,0.05) 1px, transparent 1px),
        linear-gradient(to bottom, rgba(255,255,255,0.05) 1px, transparent 1px);
    background-size: 30px 30px;
    animation: grid-pan 20s linear infinite;
  }

  @keyframes grid-pan {
    0% { background-position: 0 0; }
    100% { background-position: 30px 30px; }
  }
  
  @keyframes scanline-move {
    0% { background-position: 0 0; }
    100% { background-position: 0 100%; }
  }

  @keyframes breathe-float {
    0%, 100% { 
      transform: translateY(0) scaleY(1) scaleX(1); 
    }
    50% { 
      transform: translateY(-12px) scaleY(1.02) scaleX(0.98); 
    }
  }

  .animate-blink {
    animation: blink-animation 1s steps(5, start) infinite;
  }

  @keyframes blink-animation {
    to {
      visibility: hidden;
    }
  }

  .text-stroke-md {
    -webkit-text-stroke: 2px black;
    paint-order: stroke fill;
    text-shadow: none;
  }
  
  .connect-btn-wrapper button {
    background: transparent !important;
    color: inherit !important;
    font-family: inherit !important;
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
  }
}

@layer components {
  .monster-bunnyo {
    width: 4px; height: 4px; /* Skala Pixel */
    background: transparent;
    color: #fd79a8; /* Warna Utama */
    box-shadow: 
      /* Telinga Kiri */
      5em -4em, 6em -4em, 5em -3em, 6em -3em, 5em -2em, 6em -2em,
      /* Telinga Kanan */
      9em -4em, 10em -4em, 9em -3em, 10em -3em, 9em -2em, 10em -2em,
      /* Kepala Atas */
      4em -1em, 5em -1em, 6em -1em, 7em -1em, 8em -1em, 9em -1em, 10em -1em, 11em -1em,
      /* Wajah */
      3em 0, 4em 0, 5em 0, 6em 0, 7em 0, 8em 0, 9em 0, 10em 0, 11em 0, 12em 0,
      3em 1em, 4em 1em, 5em 1em, 6em 1em, 7em 1em, 8em 1em, 9em 1em, 10em 1em, 11em 1em, 12em 1em,
      /* Mata (Hitam) & Pipi */
      3em 2em, 4em 2em, 5em 2em #2d3436, 6em 2em, 7em 2em, 8em 2em, 9em 2em, 10em 2em #2d3436, 11em 2em, 12em 2em,
      3em 3em, 4em 3em #fab1a0, 5em 3em, 6em 3em, 7em 3em, 8em 3em, 9em 3em, 10em 3em, 11em 3em #fab1a0, 12em 3em,
      /* Badan Bawah */
      4em 4em, 5em 4em, 6em 4em, 7em 4em, 8em 4em, 9em 4em, 10em 4em, 11em 4em;
      
    animation: bounce-soft 2s infinite ease-in-out;
  }

  /* --- MONSTER 2: SPROUTLE (Plant Turtle - Green) --- */
  .monster-sproutle {
    width: 4px; height: 4px;
    background: transparent;
    color: #00b894; /* Hijau Tua */
    box-shadow: 
      /* Daun di Kepala */
      7em -4em #55efc4, 8em -3em #55efc4, 7em -2em #55efc4,
      /* Kepala */
      6em -1em #55efc4, 7em -1em #55efc4, 8em -1em #55efc4,
      5em 0 #55efc4, 6em 0 #2d3436, 7em 0 #55efc4, 8em 0 #55efc4, 9em 0 #2d3436, 10em 0 #55efc4,
      /* Cangkang Atas */
      4em 1em, 5em 1em, 6em 1em, 7em 1em, 8em 1em, 9em 1em, 10em 1em, 11em 1em,
      /* Cangkang Tengah */
      3em 2em, 4em 2em, 5em 2em #00cec9, 6em 2em, 7em 2em, 8em 2em, 9em 2em #00cec9, 10em 2em, 11em 2em, 12em 2em,
      3em 3em, 4em 3em, 5em 3em, 6em 3em, 7em 3em, 8em 3em, 9em 3em, 10em 3em, 11em 3em, 12em 3em,
      4em 4em #55efc4, 5em 4em #55efc4, 10em 4em #55efc4, 11em 4em #55efc4;
      
    animation: breathe-float 4s infinite ease-in-out;
  }

  .monster-toasty {
    width: 4px; height: 4px;
    background: transparent;
    color: #636e72;
    box-shadow: 
      6em -3em #e17055, 9em -3em #e17055,
      6em -2em #d63031, 7em -2em #d63031, 8em -2em #d63031, 9em -2em #d63031,
      4em -1em, 5em -1em, 6em -1em, 7em -1em, 8em -1em, 9em -1em, 10em -1em, 11em -1em,
      4em 0, 5em 0 #000, 6em 0 #fab1a0, 7em 0 #000, 8em 0 #000, 9em 0 #fab1a0, 10em 0 #000, 11em 0,
      4em 1em, 5em 1em, 6em 1em, 7em 1em, 8em 1em, 9em 1em, 10em 1em, 11em 1em,
      4em 2em, 5em 2em, 6em 2em, 7em 2em, 8em 2em, 9em 2em, 10em 2em, 11em 2em,
      5em 3em #2d3436, 6em 3em #2d3436, 9em 3em #2d3436, 10em 3em #2d3436;
      
    animation: shake-little 0.5s infinite;
  }

  .monster-nimbus {
    width: 4px; height: 4px;
    background: transparent;
    color: #dfe6e9;
    box-shadow:
      6em -3em, 7em -3em, 8em -3em, 9em -3em,
      5em -2em, 6em -2em #fff, 7em -2em #fff, 8em -2em #fff, 9em -2em #fff, 10em -2em,
      4em -1em, 5em -1em #fff, 6em -1em #0984e3, 7em -1em #fff, 8em -1em #fff, 9em -1em #0984e3, 10em -1em #fff, 11em -1em,
      3em 0, 4em 0 #fff, 5em 0 #fab1a0, 6em 0 #fff, 7em 0 #fff, 8em 0 #fff, 9em 0 #fff, 10em 0 #fab1a0, 11em 0 #fff, 12em 0,
      4em 1em, 5em 1em, 6em 1em, 7em 1em, 8em 1em, 9em 1em, 10em 1em, 11em 1em,
      10em 2em #ffeaa7, 9em 3em #ffeaa7;

    animation: egg-float 3s infinite ease-in-out;
  }

  @keyframes bounce-soft {
    0%, 100% { transform: translateY(0) scale(1); }
    50% { transform: translateY(-10px) scale(1.05, 0.95); }
  }
  
  @keyframes breathe-float {
    0%, 100% { transform: translateY(0) scaleY(1); }
    50% { transform: translateY(-5px) scaleY(1.02); }
  }

  @keyframes shake-little {
    0%, 100% { transform: rotate(0deg); }
    25% { transform: rotate(1deg); }
    75% { transform: rotate(-1deg); }
  }
  
  @keyframes egg-float {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-10px); }
  }

  .ghost-body {
    width: 60px; height: 70px;
    background: #a29bfe;
    border: 4px solid black; border-bottom: none;
    border-radius: 30px 30px 0 0;
    position: relative;
    box-shadow: inset 5px 5px 0px rgba(255,255,255,0.3);
  }
  .ghost-skirt {
    position: absolute; bottom: -8px; left: -4px;
    width: 68px; height: 12px;
    background: radial-gradient(circle, #a29bfe 6px, transparent 7px);
    background-size: 16px 20px;
    background-position: bottom; background-repeat: repeat-x;
    filter: drop-shadow(0px 4px 0px black);
  }
  .ghost-face {
    position: absolute; top: 25px; left: 12px;
    width: 8px; height: 8px; background: black;
    box-shadow: 28px 0 0 black;
  }

  .pixel-chest-container {
    position: relative;
    width: 100px;
    height: 100px;
    display: flex;
    justify-content: center;
    align-items: center;
  }

  .pixel-chest-art {
    width: 8px;
    height: 8px;
    background: transparent;
    box-shadow: 
      0px -24px 0 0 #000, 8px -24px 0 0 #000, 16px -24px 0 0 #000, 24px -24px 0 0 #000, 32px -24px 0 0 #000, 40px -24px 0 0 #000, 48px -24px 0 0 #000,
      -8px -16px 0 0 #000, 56px -16px 0 0 #000,
      -8px -8px 0 0 #000, 56px -8px 0 0 #000,
      -8px 0px 0 0 #000, 56px 0px 0 0 #000,
      -8px 8px 0 0 #000, 56px 8px 0 0 #000,
      -8px 16px 0 0 #000, 56px 16px 0 0 #000,
      -8px 24px 0 0 #000, 56px 24px 0 0 #000,
      0px 32px 0 0 #000, 8px 32px 0 0 #000, 16px 32px 0 0 #000, 24px 32px 0 0 #000, 32px 32px 0 0 #000, 40px 32px 0 0 #000, 48px 32px 0 0 #000,
      0px -16px 0 0 #d35400, 8px -16px 0 0 #d35400, 16px -16px 0 0 #d35400, 24px -16px 0 0 #d35400, 32px -16px 0 0 #d35400, 40px -16px 0 0 #d35400, 48px -16px 0 0 #d35400,
      0px -8px 0 0 #d35400, 8px -8px 0 0 #d35400, 16px -8px 0 0 #f1c40f, 24px -8px 0 0 #f1c40f, 32px -8px 0 0 #f1c40f, 40px -8px 0 0 #d35400, 48px -8px 0 0 #d35400,
      0px 0px 0 0 #d35400, 8px 0px 0 0 #d35400, 16px 0px 0 0 #f1c40f, 24px 0px 0 0 #000000, 32px 0px 0 0 #f1c40f, 40px 0px 0 0 #d35400, 48px 0px 0 0 #d35400,
      0px 8px 0 0 #d35400, 8px 8px 0 0 #d35400, 16px 8px 0 0 #f1c40f, 24px 8px 0 0 #f1c40f, 32px 8px 0 0 #f1c40f, 40px 8px 0 0 #d35400, 48px 8px 0 0 #d35400,
      0px 16px 0 0 #d35400, 8px 16px 0 0 #d35400, 16px 16px 0 0 #d35400, 24px 16px 0 0 #d35400, 32px 16px 0 0 #d35400, 40px 16px 0 0 #d35400, 48px 16px 0 0 #d35400,
      0px 24px 0 0 #d35400, 8px 24px 0 0 #d35400, 16px 24px 0 0 #d35400, 24px 24px 0 0 #d35400, 32px 24px 0 0 #d35400, 40px 24px 0 0 #d35400, 48px 24px 0 0 #d35400;
  }

  .shake-hard {
    animation: shake-hard 0.1s cubic-bezier(.36,.07,.19,.97) infinite;
  }

  @keyframes shake-hard {
    0% { transform: translate(1px, 1px) rotate(0deg); }
    10% { transform: translate(-1px, -2px) rotate(-1deg); }
    20% { transform: translate(-3px, 0px) rotate(1deg); }
    30% { transform: translate(3px, 2px) rotate(0deg); }
    40% { transform: translate(1px, -1px) rotate(1deg); }
    50% { transform: translate(-1px, 2px) rotate(-1deg); }
    60% { transform: translate(-3px, 1px) rotate(0deg); }
    70% { transform: translate(3px, 1px) rotate(-1deg); }
    80% { transform: translate(-1px, -1px) rotate(1deg); }
    90% { transform: translate(1px, 2px) rotate(0deg); }
    100% { transform: translate(1px, -2px) rotate(-1deg); }
  }

  .rays-container {
    position: absolute;
    inset: -100px;
    z-index: 0;
    animation: spin-slow 10s linear infinite;
  }
  
  @keyframes spin-slow {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
  }
}